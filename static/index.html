<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Cave Gen</title>
		<script type="text/javascript" src="scripts/lib/jquery-1.11.2.min.js"></script>
		<script type="text/javascript" src="jquery-ui-1.11.2.custom/jquery-ui.min.js"></script>    
		<script type="text/javascript" src="scripts/lib/knockout-3.3.0.js"></script>
		<script type="text/javascript" src="scripts/lib/ZeroClipboard.min.js"></script>
		<script type="text/javascript" src="scripts/tile-utils.js"></script>
		<script type="text/javascript" src="scripts/utils.js"></script>
		<script type="text/javascript" src="scripts/cave-network.js"></script>
		<script type="text/javascript" src="scripts/cave.js"></script>
		<script type="text/javascript" src="scripts/tile-change.js"></script>
		<script type="text/javascript" src="scripts/painted-line-change.js"></script>
		<script type="text/javascript" src="scripts/generate-cave-change.js"></script>
		<script type="text/javascript" src="scripts/cave-change-history.js"></script>
		<script type="text/javascript" src="scripts/change-controller.js"></script>
		<script type="text/javascript" src="scripts/cave-view.js"></script>
		<script type="text/javascript" src="scripts/palette-viewmodel.js"></script>
		<script type="text/javascript" src="scripts/cave-viewmodel.js"></script>
		<script type="text/javascript" src="scripts/cave-storage.js"></script>
		<script type="text/javascript" src="scripts/main.js"></script>
		<link rel="stylesheet" type="text/css" href="styles/palette.css">
		<link rel="stylesheet" type="text/css" href="styles/clipboardButton.css">
		<link rel="stylesheet" type="text/css" href="jquery-ui-1.11.2.custom/jquery-ui.min.css">
		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-61601702-1']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</head>
	<body style="background-color: black">
		<div style="display: inline-block; vertical-align:top">
			<div id="cave-settings" style="width: 250px">
				<label for="caveName"><font color="white">Cave name</font></label>
				<input type="text" id="caveName" data-bind="textInput: caveName" style="width: 250px"/>

				<label for="width"><font color="white">Width</font></label>
				<input type="text" id="width" data-bind="textInput: caveWidth" style="width: 250px"/>

				<label for="height"><font color="white">Height</font></label>
				<input type="text" id="height" data-bind="textInput: caveHeight" style="width: 250px"/>

				<label for="brushSize"><font color="white">Brush size: </font></label>
				<input type="text" id="brushSize" readonly style="border:0; font-weight:bold; color:white; margin-bottom: 5px; background-color: black">
				<div id="brushSizeSlider" style="width: 200px; height: 12px; background: green; margin-left: auto; margin-right: auto"></div>

				<button id="generate" class="clip_button" data-bind="click: function() { generateCave() }"
										style="margin-right:100px">Generate cave</button>

				<button id="undo" class="clip_button" data-bind="click: function() { undo() }">Undo</button>

				<button id="redo" class="clip_button" data-bind="click: function() { redo() }">Redo</button>

				<button id="copyToClipboard" class="clip_button">Copy to clipboard</button>
			</div>

			<div id="cave-storage" style="width: 250px">
				<select name="load" id="load" data-bind='options: caveNames, value: selectedCaveName, optionsCaption: "Load"' style="width: 250px"></select>

				<button id="save" class="clip_button" data-bind="click: function() { storeCave() }">Save</button>
			</div>

			<div id="palette-container" data-bind="foreach: images" style="width: 250px; height: 600px">
				<div style="float: left">
					<img class="paletteTile" data-bind="attr: { src: $parent.imagePath(fileName) }, click : $parent.handleClick($data), style: { width: $parent.size, height: $parent.size }">
				</div>
			</div>
		</div>

		<div id="canvas-container" style="display: inline-block">
			<canvas id="caveGridCanvas" style="left: 0; top: 0; z-index: 1"/>
		</div> 
	</body>
</html>